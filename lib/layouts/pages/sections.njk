{% extends "pages/default.njk" %}
{% from "components/_helpers/build-container-attributes.njk" import buildContainerAttributes %}
{% from "components/_helpers/render-section.njk" import renderSection %}

{# NOTE: This file is excluded from Prettier formatting due to dynamic HTML tags #}
{# See .prettierignore and CONTRIBUTING.md for details #}



{% block body %}

  {# loop through all sections and render them #}
  {% for section in sections %}
    {# don't render section is disabled in frontmatter #}
    {% if not section.isDisabled %}

      {# section wrapper may be article, aside, section or div depending on section.containerTag setting #}
      <{{ section.containerTag }} id="{{ section.id }}"  {{ buildContainerAttributes(section) }}>
      
        {# if section has background add a background image #}
        {% if section.containerFields.background.image %}
          <div class="background-image" style="background-image: url({{ section.containerFields.background.image }})"></div>
        {% endif %}
        
        {# section content #}
        {{ renderSection(section, site, navigation.breadcrumbs, artMuseums, socialLinks, pageFiles, collections) }}

      {% set containerTag = section.containerTag %}
      </{{ containerTag }}>

    {% endif %}
  {% else %}
    <p class="error-message">There are no sections available</p>
  {% endfor %}
{% endblock %}

